{
  "info": {
    "product": "RUTX11"
  },
  "events-triggers": [
    {
      "event-data": {
        "event-type": "Config",
        "event-subtype": [
          "all",
          "openvpn",
          "events_reporting",
          "periodic_reboot",
          "ping_reboot",
          "profile",
          "ipsec",
          "dhcp",
          "dropbear",
          "network",
          "firewall",
          "ntp",
          "ddns",
          "snmpd",
          "sqm",
          "ulogd",
          "modbus_data_sender",
          "mosquitto",
          "mqtt_pub",
          "chilli",
          "samba",
          "etherwake",
          "sms",
          "simcard",
          "mwan",
          "quota_limit",
          "gps",
          "blesem",
          "ioman",
          "wireless",
          "hostblock",
          "privoxy",
          "vrrpd",
          "upnp"
        ],
        "email-config": {
          "subject": "",
          "email-acc": "",
          "recievers": [
            ""
          ]
        },
        "sms-config": {
          "reciever": "+37060211799"
        },
        "message": [
          "Config, all",
          "Config, openvpn",
          "Config, events_reporting",
          "Config, periodic_reboot",
          "Config, ping_reboot",
          "Config, profile",
          "Config, ipsec",
          "Config, dhcp",
          "Config, dropbear",
          "Config, network",
          "Config, firewall",
          "Config, ntp",
          "Config, ddns",
          "Config, snmpd",
          "Config, sqm",
          "Config, ulogd",
          "Config, modbus_data_sender",
          "Config, mosquitto",
          "Config, mqtt_pub",
          "Config, chilli (hotspot)",
          "Config, samba (network shares)",
          "Config, etherwake (Wake on Lan)",
          "Config, sms",
          "Config, simcard",
          "Config, mwan",
          "Config, quota_limit",
          "Config, gps",
          "Config, blesem (bluetooth)",
          "Config, ioman (I/O settings)",
          "Config, wireless",
          "Config, hostblock",
          "Config, privoxy",
          "Config, vrrpd",
          "Config, upnp"
        ]
      },
      "trigger-data": [
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/network/wireless/devices/config/radio0",
              "API-body": {
                ".type": "wifi-device",
                "country": "UA"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/openvpn/config",
              "API-body": {
                "id": "test",
                "type": "client"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/events_reporting/config",
              "API-body": {
                ".type": "rule",
                "action": "sendEmail"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/auto_reboot/periodic/config",
              "API-body": {}
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/auto_reboot/ping/config",
              "API-body": {}
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/system/profiles/config",
              "API-body": {
                "id": "test",
                "from_current_profile": "0",
                ".type": "profile"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/ipsec/config",
              "API-body": {
                "id": "test"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/network/dhcp/servers/config/lan",
              "API-body": {
                "leasetime": "10h"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/system/access_control/ssh/config/cfg014dd4",
              "API-body": {
                "enable_key_ssh": "1"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/network/interfaces/config",
              "API-body": {
                "id": "test"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/network/firewall/zones/config",
              "API-body": {}
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/ddns/config",
              "API-body": {
                "id": "test"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "",
              "API-path": "/services/snmp/system/config/general",
              "API-body": {
                "sysLocation": "naujas",
                "id": "general"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/sqm/config",
              "API-body": {
                "id": "test2"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/ulog/ftp/config/ftp",
              "API-body": {
                "host": "tekstas"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/data_sender/config",
              "API-body": {}
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/mqtt_broker/bridge/config",
              "API-body": {
                "connection_name": "test"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/services/mqtt_pub/config/general",
              "API-body": {
                "enabled": "0",
                "remote_addr": "test"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/hotspot/users/config",
              "API-body": {
                "username": "test",
                "password": "test"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/samba/users/config",
              "API-body": {
                "username": "test",
                "password": "Test!808"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/wol_devices/config",
              "API-body": {}
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/mobile_utilities/sms_rules/config",
              "API-body": {
                "smstext": "1342",
                "action": "reboot"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/network/mobile/simcards/config/cfg01aa0e",
              "API-body": {
                "volte": "off"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/network/mwan3/rules/config",
              "API-body": {
                "id": "test"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/network/interfaces/config/mob1s1a1",
              "API-body": {
                "data_limit": "1000",
                "enable_warning": "0",
                "reset_hour": "0",
                "mob_limit_enabled": "1",
                "period": "day"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/services/gps/general/config/gpsd",
              "API-body": {
                "enabled": "1"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/services/bluetooth/general/config/general",
              "API-body": {
                "enabled": "1"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/services/io/scheduler/config/general",
              "API-body": {
                "enabled": "1"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "API-path": "/network/wireless/devices/config/radio0",
              "API-body": {
                ".type": "wifi-device",
                "country": "LT"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "",
              "API-path": "/services/webfilter/config/general",
              "API-body": {
                "enabled": "1",
                ".type": "hostblock",
                "id": "general",
                "mode": "blacklist"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "",
              "API-path": "/services/privoxy/config/general",
              "API-body": {
                "enabled": "1",
                ".type": "privoxy",
                "id": "general",
                "_mode": "blacklist",
                "url": []
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/vrrp/config",
              "API-body": {
                "id": "test"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "post",
              "API-path": "/services/upnp/acls/config",
              "API-body": {}
            }
          ]
        }
      ]
    },
    {
      "event-data": {
        "event-type": "WiFi",
        "event-subtype": [
          "all",
          "client connected",
          "client disconnected"
        ],
        "email-config": {
          "subject": "",
          "email-acc": "",
          "recievers": [
            ""
          ]
        },
        "sms-config": {
          "reciever": "+37060211799"
        },
        "message": [
          "WiFi, all",
          "WiFi, client connected",
          "WiFi, client disconnected"
        ]
      },
      "trigger-data": [
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "api-path": "/network/wireless/devices/config/radio1",
              "api-body": {
                ".type": "wifi-device",
                "country": "CA"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "api-path": "/network/wireless/devices/config/radio1",
              "api-body": {
                ".type": "wifi-device",
                "country": "AL"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "put",
              "api-path": "/network/wireless/devices/config/radio1",
              "api-body": {
                ".type": "wifi-device",
                "country": "AQ"
              }
            }
          ]
        }
      ]
    },
    {
      "event-data": {
        "event-type": "Switch Topology--kol kas neveikia",
        "event-subtype": [
          "Changes in topology"
        ],
        "email-config": {
          "subject": "",
          "email-acc": "",
          "recievers": [
            ""
          ]
        },
        "sms-config": {
          "reciever": "+37060211799"
        },
        "message": [
          "Switch Topology, Changes in topology"
        ]
      },
      "trigger-data": [
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "method": "",
              "api-path": "",
              "api-body": {}
            }
          ]
        }
      ]
    },
    {
      "event-data": {
        "event-type": "SSH",
        "event-subtype": [
          "all",
          "succeeded",
          "bad"
        ],
        "email-config": {
          "subject": "",
          "email-acc": "",
          "recievers": [
            ""
          ]
        },
        "sms-config": {
          "reciever": "+37060211799"
        },
        "message": [
          "SSH, all",
          "SSH, succeeded",
          "SSH, bad"
        ]
      },
      "trigger-data": [
        {
          "type": "ssh",
          "steps": [
            {
              "command": "",
              "method": "",
              "api-path": "",
              "api-body": {}
            }
          ]
        },
        {
          "type": "ssh",
          "steps": [
            {
              "command": "",
              "method": "",
              "api-path": "",
              "api-body": {}
            }
          ]
        },
        {
          "type": "cmd",
          "steps": [
            {
              "command": "sshpass -p 1324 ssh root@192.168.1.1 -o ExitOnForwardFailure='yes'",
              "wait-time": "",
              "method": "",
              "api-path": "",
              "api-body": {}
            }
          ]
        }
      ]
    },
    {
      "event-data": {
        "event-type": "Switch Events",
        "event-subtype": [
          "all",
          "Port link state",
          "Port speed for",
          "changed to DOWN",
          "changed to UP"
        ],
        "email-config": {
          "subject": "",
          "email-acc": "",
          "recievers": [
            ""
          ]
        },
        "sms-config": {
          "reciever": "+37060211799"
        },
        "message": [
          "Switch Events, all",
          "Switch Events, Port link state",
          "Switch Events, Port speed for",
          "Switch Events, changed to DOWN",
          "Switch Events, changed to UP"
        ]
      },
      "trigger-data": [
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "wait-time": "",
              "method": "post",
              "api-path": "/network/vlan/port_based/config",
              "api-body": {
                ".type": "switch_vlan"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "wait-time": "",
              "method": "put",
              "api-path": "/network/vlan/port_based/config",
              "api-body": {
                ".type": "switch_vlan",
                "vid": "3",
                "lan1": "t"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "wait-time": "",
              "method": "put",
              "api-path": "/network/vlan/port_based/config",
              "api-body": {
                ".type": "switch_vlan",
                "vid": "3",
                "lan1": ""
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "wait-time": "",
              "method": "put",
              "api-path": "/network/vlan/port_based/config",
              "api-body": {
                ".type": "switch_vlan",
                "vid": "3",
                "lan1": "t"
              }
            }
          ]
        },
        {
          "type": "api",
          "steps": [
            {
              "command": "",
              "wait-time": "",
              "method": "put",
              "api-path": "/network/vlan/port_based/config",
              "api-body": {
                ".type": "switch_vlan",
                "vid": "3",
                "lan1": ""
              }
            }
          ]
        }
      ]
    },
    {
      "event-data": {
        "event-type": "Reboot",
        "event-subtype": [
          "all",
          "web ui",
          "input/output",
          "ping reboot",
          "reboot scheduler",
          "from button",
          "sms reboot"
        ],
        "email-config": {
          "subject": "",
          "email-acc": "",
          "recievers": [
            ""
          ]
        },
        "sms-config": {
          "reciever": "+37060211799"
        },
        "message": [
          "Reboot, all",
          "Reboot, web ui",
          "Reboot, input/output",
          "Reboot, ping reboot",
          "Reboot, reboot scheduler",
          "Reboot, from button",
          "Reboot, sms reboot"
        ]
      },
      "trigger-data": [
        {
          "steps": [
            {
              "type": "ssh",
              "command": "reboot",
              "wait-time": "120",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": "1"
            }
          ]
        },
        {
          "steps": [
            {
              "type": "api",
              "command": "",
              "wait-time": "120",
              "method": "post",
              "api-path": "/system/administration/general/actions/reboot",
              "api-body": {},
              "retrieve-token": "1"
            }
          ]
        },
        {
          "steps": [
            {
              "type": "--I/o kol kas neveikia",
              "command": "",
              "wait-time": "",
              "method": "post",
              "api-path": "",
              "api-body": {},
              "retrieve-token": "1"
            }
          ]
        },
        {
          "steps": [
            {
              "type": "api",
              "command": "",
              "wait-time": "300",
              "method": "post",
              "api-path": "/services/auto_reboot/ping/config",
              "api-body": {
                "type": "ping",
                "retry": "1",
                "enable": "1",
                ".type": "ping_reboot",
                "packet_size": "56",
                "id": "cfg01c21d",
                "host": "192.168.134.80",
                "ip_type": "ipv4",
                "action": "1",
                "stop_action": "0",
                "interface": "1",
                "time": "5",
                "time_out": "1",
                "number": ""
              },
              "retrieve-token": "1"
            },
            {
              "type": "api",
              "command": "",
              "wait-time": "",
              "method": "put",
              "api-path": "/services/auto_reboot/ping/config/cfg01c21d",
              "api-body": {
                "type": "ping",
                "retry": "1",
                "enable": "0",
                ".type": "ping_reboot",
                "packet_size": "56",
                "id": "cfg01c21d",
                "host": "192.168.134.80",
                "ip_type": "ipv4",
                "action": "1",
                "stop_action": "0",
                "interface": "1",
                "time": "5",
                "time_out": "1",
                "number": ""
              },
              "retrieve-token": "0"
            }
          ]
        },
        {
          "steps": [
            {
              "type": "api",
              "command": "",
              "wait-time": "",
              "method": "put",
              "api-path": "/services/auto_reboot/periodic/config/cfg0210a4",
              "api-body": {
                "id": "cfg0210a4",
                "enable": "1",
                "action": "1",
                "period": "week",
                "days": [
                  "mon",
                  "tue",
                  "wed",
                  "thu",
                  "fri"
                ],
                "time": [
                  "00:05"
                ]
              },
              "retrieve-token": "1"
            },
            {
              "type": "ssh",
              "command": "date -s 00:00",
              "wait-time": "120",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": ""
            }
          ]
        },
        {
          "steps": [
            {
              "type": "ssh",
              "command": "reboot -b",
              "wait-time": "120",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": "1"
            }
          ]
        },
        {
          "steps": [
            {
              "type": "ssh",
              "command": "gsmctl -S -s \"+37060789118 Admin123 reboot\"",
              "wait-time": "120",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": "1"
            }
          ]
        }
      ]
    },
    {
      "event-data": {
        "event-type": "Failover",
        "event-subtype": [
          "all",
          "Switched to main",
          "Switched to backup"
        ],
        "email-config": {
          "subject": "",
          "email-acc": "",
          "recievers": [
            ""
          ]
        },
        "sms-config": {
          "reciever": "+37060211799"
        },
        "message": [
          "Failover, all",
          "Failover, Switched to main",
          "Failover, Switched to backup"
        ]
      },
      "trigger-data": [
        {
          "steps": [
            {
              "type": "api",
              "command": "",
              "wait-time": "",
              "method": "put",
              "api-path": "/network/mwan3/interfaces/config/wan",
              "api-body": {
                "enabled":"1",
                "metric":"2"
              },
              "retrieve-token": ""
            },
            {
              "type": "api",
              "command": "",
              "wait-time": "10",
              "method": "put",
              "api-path": "/network/mwan3/interfaces/config/mob1s1a1",
              "api-body": {
                "enabled":"1",
                "metric":"1"
              },
              "retrieve-token": ""
            },
            {
              "type": "ssh",
              "command": "/etc/init.d/network restart",
              "wait-time": "30",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": ""
            }
          ]
        },
        {
          "steps": [
            {
              "type": "ssh",
              "command": "gsmctl -Q",
              "wait-time": "80",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": ""
            }
          ]
        },
        {
          "steps": [
            {
              "type": "ssh",
              "command": "gsmctl -Q",
              "wait-time": "60",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": ""
            }
          ]
        }
      ]
    },
    {
      "event-data": {
        "event-type": "Mobile Data",
        "event-subtype": [
          "all",
          "data connected",
          "data disconnected"
        ],
        "email-config": {
          "subject": "",
          "email-acc": "",
          "recievers": [
            ""
          ]
        },
        "sms-config": {
          "reciever": "+37060211799"
        },
        "message": [
          "Mobile Data, all",
          "Mobile Data, data connected",
          "Mobile Data, data disconnected"
        ]
      },
      "trigger-data": [
        {
          "steps": [
            {
              "type": "ssh",
              "command": "gsmctl -Q",
              "wait-time": "80",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": ""
            }
          ]
        },
        {
          "steps": [
            {
              "type": "ssh",
              "command": "gsmctl -Q",
              "wait-time": "80",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": ""
            }
          ]
        },
        {
          "steps": [
            {
              "type": "ssh",
              "command": "gsmctl -Q",
              "wait-time": "80",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": ""
            }
          ]
        }
      ]
    },
    {
      "event-data": {
        "event-type": "SMS",
        "event-subtype": [
          "received from"
        ],
        "email-config": {
          "subject": "",
          "email-acc": "",
          "recievers": [
            ""
          ]
        },
        "sms-config": {
          "reciever": "+37060211799"
        },
        "message": [
          "SMS, received from"
        ]
      },
      "trigger-data": [
        {
          "steps": [
            {
              "type": "ssh",
              "command": "gsmctl -S -s \"+37060789118 SMS test\"",
              "wait-time": "",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": ""
            },
            {
              "type": "ssh",
              "command": "gsmctl -S -d 0",
              "wait-time": "",
              "method": "",
              "api-path": "",
              "api-body": {},
              "retrieve-token": ""
            }
          ]
        }
      ]
    }
  ]
}